{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/leesumin/Downloads/nextme-front/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,yKAAO,EAAC,IAAA,gJAAI,EAAC;AACtB"}},
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///Users/leesumin/Downloads/nextme-front/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost:\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\n        icon: 'size-9',\n        'icon-sm': 'size-8',\n        'icon-lg': 'size-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'button'> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : 'button'\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,0KAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,2KAAI,GAAG;IAE9B,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf;KAnBS"}},
    {"offset": {"line": 87, "column": 0}, "map": {"version":3,"sources":["file:///Users/leesumin/Downloads/nextme-front/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn('leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn('px-6', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf;MARS"}},
    {"offset": {"line": 207, "column": 0}, "map": {"version":3,"sources":["file:///Users/leesumin/Downloads/nextme-front/components/ui/input.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Input({ className, type, ...props }: React.ComponentProps<'input'>) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        'file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n        'focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]',\n        'aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,6LAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,8bACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS"}},
    {"offset": {"line": 238, "column": 0}, "map": {"version":3,"sources":["file:///Users/leesumin/Downloads/nextme-front/components/ui/avatar.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as AvatarPrimitive from '@radix-ui/react-avatar'\n\nimport { cn } from '@/lib/utils'\n\nfunction Avatar({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Root>) {\n  return (\n    <AvatarPrimitive.Root\n      data-slot=\"avatar\"\n      className={cn(\n        'relative flex size-8 shrink-0 overflow-hidden rounded-full',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction AvatarImage({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Image>) {\n  return (\n    <AvatarPrimitive.Image\n      data-slot=\"avatar-image\"\n      className={cn('aspect-square size-full', className)}\n      {...props}\n    />\n  )\n}\n\nfunction AvatarFallback({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Fallback>) {\n  return (\n    <AvatarPrimitive.Fallback\n      data-slot=\"avatar-fallback\"\n      className={cn(\n        'bg-muted flex size-full items-center justify-center rounded-full',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Avatar, AvatarImage, AvatarFallback }\n"],"names":[],"mappings":";;;;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,OAAO,EACd,SAAS,EACT,GAAG,OAC+C;IAClD,qBACE,6LAAC,6KAAoB;QACnB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,8DACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS;AAgBT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,6LAAC,8KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,2BAA2B;QACxC,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,eAAe,EACtB,SAAS,EACT,GAAG,OACmD;IACtD,qBACE,6LAAC,iLAAwB;QACvB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,oEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS"}},
    {"offset": {"line": 301, "column": 0}, "map": {"version":3,"sources":["file:///Users/leesumin/Downloads/nextme-front/components/ui/tabs.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as TabsPrimitive from '@radix-ui/react-tabs'\n\nimport { cn } from '@/lib/utils'\n\nfunction Tabs({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Root>) {\n  return (\n    <TabsPrimitive.Root\n      data-slot=\"tabs\"\n      className={cn('flex flex-col gap-2', className)}\n      {...props}\n    />\n  )\n}\n\nfunction TabsList({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.List>) {\n  return (\n    <TabsPrimitive.List\n      data-slot=\"tabs-list\"\n      className={cn(\n        'bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TabsTrigger({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Trigger>) {\n  return (\n    <TabsPrimitive.Trigger\n      data-slot=\"tabs-trigger\"\n      className={cn(\n        \"data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TabsContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Content>) {\n  return (\n    <TabsPrimitive.Content\n      data-slot=\"tabs-content\"\n      className={cn('flex-1 outline-none', className)}\n      {...props}\n    />\n  )\n}\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n"],"names":[],"mappings":";;;;;;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,KAAK,EACZ,SAAS,EACT,GAAG,OAC6C;IAChD,qBACE,6LAAC,2KAAkB;QACjB,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,uBAAuB;QACpC,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,SAAS,EAChB,SAAS,EACT,GAAG,OAC6C;IAChD,qBACE,6LAAC,2KAAkB;QACjB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,uGACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,6LAAC,8KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,mqBACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,6LAAC,8KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,uBAAuB;QACpC,GAAG,KAAK;;;;;;AAGf;MAXS"}},
    {"offset": {"line": 379, "column": 0}, "map": {"version":3,"sources":["file:///Users/leesumin/Downloads/nextme-front/app/dashboard/chat/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useState, useCallback, useRef } from \"react\"\nimport { useRouter } from \"next/navigation\"\nimport Link from \"next/link\"\nimport { Button } from \"@/components/ui/button\"\nimport { Card } from \"@/components/ui/card\"\nimport { Input } from \"@/components/ui/input\"\nimport { Avatar, AvatarFallback } from \"@/components/ui/avatar\"\nimport { Tabs, TabsList, TabsTrigger } from \"@/components/ui/tabs\"\nimport { \n  ArrowLeft, Send, Sparkles, Users, User, Bot, \n  Circle, MessageSquare, Loader2\n} from \"lucide-react\"\nimport Image from \"next/image\"\n\n// WebSocket & STOMP\nimport { Client } from '@stomp/stompjs'\nimport SockJS from 'sockjs-client'\n\ninterface ChatRoom {\n  chatRoomId: string;\n  title: string;\n  roomType: 'GROUP' | 'DIRECT' | 'AI';\n}\n\ninterface ChatMessage {\n  id?: string;\n  senderId: string;\n  senderName: string;\n  content: string;\n  createdAt: string;\n}\n\nexport default function ChatPage() {\n  const router = useRouter()\n  const [userId, setUserId] = useState(\"\")\n  const [userName, setUserName] = useState(\"\")\n  \n  const [activeTab, setActiveTab] = useState(\"GROUP\")\n  const [rooms, setRooms] = useState<ChatRoom[]>([])\n  const [currentRoom, setCurrentRoom] = useState<ChatRoom | null>(null)\n  const [messages, setMessages] = useState<ChatMessage[]>([])\n  const [inputValue, setInputValue] = useState(\"\")\n  const [isConnected, setIsConnected] = useState(false)\n  const [isHistoryLoading, setIsHistoryLoading] = useState(false)\n\n  const stompClient = useRef<Client | null>(null)\n  const scrollRef = useRef<HTMLDivElement>(null)\n  const subscriptions = useRef<Record<string, any>>({})\n\n  const API_BASE = 'http://sparta-nextme.xyz:18080'\n\n  // 1. 이전 대화 내역 불러오기 (정보 유지)\n  const loadChatHistory = async (roomId: string) => {\n    const token = localStorage.getItem(\"accessToken\")\n    setIsHistoryLoading(true)\n    try {\n      const res = await fetch(`${API_BASE}/v1/chats/room/${roomId}/messages`, {\n        headers: { \"Authorization\": `Bearer ${token}` }\n      })\n      const data = await res.json()\n      // API 응답 구조에 맞게 매핑\n      const history = (data.messages || data || []).map((msg: any) => ({\n        ...msg,\n        id: msg.id || crypto.randomUUID()\n      }))\n      setMessages(history)\n    } catch (e) {\n      console.error(\"History load error:\", e)\n    } finally {\n      setIsHistoryLoading(false)\n    }\n  }\n\n  // 2. 방 목록 로드\n  const loadRooms = useCallback(async (type: string) => {\n    const token = localStorage.getItem(\"accessToken\")\n    try {\n      const res = await fetch(`${API_BASE}/v1/chats/room?roomType=${type}`, {\n        headers: { \"Authorization\": `Bearer ${token}` }\n      })\n      const data = await res.json()\n      setRooms(data.rooms || data || [])\n    } catch (e) { console.error(e) }\n  }, [])\n\n  // 3. 소켓 연결\n  const connectChat = useCallback(() => {\n    const token = localStorage.getItem(\"accessToken\")\n    if (!token) return\n\n    const socket = new SockJS(`${API_BASE}/ws/chat`)\n    const client = new Client({\n      webSocketFactory: () => socket,\n      connectHeaders: { Authorization: `Bearer ${token}` },\n      onConnect: () => {\n        setIsConnected(true)\n        loadRooms(activeTab)\n      },\n      onDisconnect: () => setIsConnected(false),\n    })\n    client.activate()\n    stompClient.current = client\n  }, [activeTab, loadRooms])\n\n  useEffect(() => {\n    setUserId(localStorage.getItem(\"userId\") || \"\")\n    setUserName(localStorage.getItem(\"name\") || \"사용자\")\n    connectChat()\n    return () => { stompClient.current?.deactivate() }\n  }, [connectChat])\n\n  // 4. 방 선택 로직\n  const selectRoom = (room: ChatRoom) => {\n    if (currentRoom?.chatRoomId === room.chatRoomId) return\n    setCurrentRoom(room)\n    loadChatHistory(room.chatRoomId)\n\n    if (subscriptions.current[room.chatRoomId]) return\n    stompClient.current?.subscribe(`/topic/chat.room.${room.chatRoomId}`, (msg) => {\n      const received = JSON.parse(msg.body)\n      setMessages((prev) => [...prev, { ...received, id: crypto.randomUUID() }])\n    })\n    subscriptions.current[room.chatRoomId] = true\n  }\n\n  const handleSend = (e?: React.FormEvent) => {\n    if (e) e.preventDefault()\n    if (!inputValue.trim() || !stompClient.current?.connected || !currentRoom) return\n\n    stompClient.current.publish({\n      destination: `/app/chat.send/${currentRoom.chatRoomId}`,\n      body: JSON.stringify({ content: inputValue, roomType: currentRoom.roomType })\n    })\n    setInputValue(\"\")\n  }\n\n  useEffect(() => {\n    if (scrollRef.current) {\n      scrollRef.current.scrollTop = scrollRef.current.scrollHeight\n    }\n  }, [messages])\n\n  return (\n    <div className=\"min-h-screen flex flex-col bg-background\">\n      {/* Header: 처음에 주신 디자인 그대로 */}\n      <header className=\"border-b border-border bg-card/50 backdrop-blur-sm sticky top-0 z-50\">\n        <div className=\"container mx-auto px-4 h-16 flex items-center justify-between\">\n          <div className=\"flex items-center gap-4\">\n            <Link href=\"/dashboard\">\n              <Button variant=\"ghost\" size=\"icon\">\n                <ArrowLeft className=\"h-5 w-5\" />\n              </Button>\n            </Link>\n            <div className=\"flex items-center gap-2\">\n              <div className=\"h-8 w-8 rounded-full bg-primary flex items-center justify-center\">\n                <Sparkles className=\"h-4 w-4 text-primary-foreground\" />\n              </div>\n              <div>\n                <p className=\"font-semibold text-sm\">{currentRoom?.title || \"AI 어시스턴트\"}</p>\n                <div className=\"flex items-center gap-1\">\n                   <div className={`h-1.5 w-1.5 rounded-full ${isConnected ? 'bg-green-500' : 'bg-slate-500'}`} />\n                   <p className=\"text-xs text-muted-foreground\">{isConnected ? '온라인' : '연결 중'}</p>\n                </div>\n              </div>\n            </div>\n          </div>\n          <Link href=\"/\" className=\"flex items-center gap-2\">\n            <Image src=\"/logo.png\" alt=\"Next Me\" width={100} height={27} className=\"h-7 w-auto\" />\n          </Link>\n        </div>\n      </header>\n\n      <div className=\"flex flex-1 overflow-hidden container mx-auto max-w-6xl\">\n        {/* 사이드바: 탭 메뉴 (다크 무드 유지) */}\n        <aside className=\"w-64 border-r border-border hidden md:flex flex-col bg-card/20\">\n          <div className=\"p-4\">\n            <Tabs defaultValue=\"GROUP\" className=\"w-full\" onValueChange={(v) => { setActiveTab(v); loadRooms(v); }}>\n              <TabsList className=\"grid grid-cols-3 h-9 bg-muted\">\n                <TabsTrigger value=\"GROUP\" className=\"text-xs font-bold\">단체</TabsTrigger>\n                <TabsTrigger value=\"DIRECT\" className=\"text-xs font-bold\">1:1</TabsTrigger>\n                <TabsTrigger value=\"AI\" className=\"text-xs font-bold\">AI</TabsTrigger>\n              </TabsList>\n            </Tabs>\n          </div>\n          <div className=\"flex-1 overflow-y-auto p-2 space-y-1\">\n            {rooms.map((room) => (\n              <Button\n                key={room.chatRoomId}\n                variant={currentRoom?.chatRoomId === room.chatRoomId ? \"secondary\" : \"ghost\"}\n                className={`w-full justify-start text-xs font-bold py-6 px-4 rounded-xl ${currentRoom?.chatRoomId === room.chatRoomId ? 'bg-primary/10 text-primary hover:bg-primary/20' : ''}`}\n                onClick={() => selectRoom(room)}\n              >\n                <MessageSquare className=\"h-4 w-4 mr-2 opacity-50\" />\n                <span className=\"truncate\">{room.title}</span>\n              </Button>\n            ))}\n          </div>\n        </aside>\n\n        {/* Chat Messages Area */}\n        <div className=\"flex-1 flex flex-col relative\">\n          <div ref={scrollRef} className=\"flex-1 overflow-y-auto p-4 md:p-8\">\n            <div className=\"container mx-auto max-w-4xl\">\n              <div className=\"space-y-6\">\n                {!currentRoom ? (\n                  <div className=\"py-20 text-center opacity-20\">\n                    <MessageSquare className=\"h-12 w-12 mx-auto mb-4\" />\n                    <p className=\"text-sm font-bold tracking-widest uppercase\">Select a Conversation</p>\n                  </div>\n                ) : (\n                  <>\n                    {isHistoryLoading && <div className=\"flex justify-center\"><Loader2 className=\"h-5 w-5 animate-spin text-primary\" /></div>}\n                    {messages.map((msg) => (\n                      <div key={msg.id} className={`flex gap-4 ${msg.senderId === userId ? \"justify-end\" : \"justify-start\"}`}>\n                        {msg.senderId !== userId && (\n                          <div className=\"h-10 w-10 rounded-full bg-primary flex items-center justify-center flex-shrink-0\">\n                            <Sparkles className=\"h-5 w-5 text-primary-foreground\" />\n                          </div>\n                        )}\n                        <Card className={`p-4 max-w-[70%] border-none shadow-md ${msg.senderId === userId ? \"bg-primary text-primary-foreground\" : \"bg-card text-card-foreground\"}`}>\n                          <p className=\"text-sm leading-relaxed\">{msg.content}</p>\n                        </Card>\n                        {msg.senderId === userId && (\n                          <Avatar className=\"flex-shrink-0 h-10 w-10 border\">\n                            <AvatarFallback className=\"text-[10px] font-bold bg-muted text-muted-foreground uppercase\">\n                              {userName.substring(0, 1)}\n                            </AvatarFallback>\n                          </Avatar>\n                        )}\n                      </div>\n                    ))}\n                  </>\n                )}\n              </div>\n            </div>\n          </div>\n\n          {/* Input Area: 처음 주신 디자인 복구 */}\n          <div className=\"border-t border-border bg-card/50 backdrop-blur-sm\">\n            <div className=\"container mx-auto px-4 py-4 max-w-4xl\">\n              <form\n                onSubmit={(e) => {\n                  e.preventDefault()\n                  handleSend()\n                }}\n                className=\"flex gap-2\"\n              >\n                <Input\n                  value={inputValue}\n                  onChange={(e) => setInputValue(e.target.value)}\n                  placeholder={currentRoom ? \"메시지를 입력하세요...\" : \"대화방을 선택해주세요\"}\n                  disabled={!currentRoom}\n                  className=\"flex-1 bg-background border-border\"\n                />\n                <Button type=\"submit\" size=\"icon\" disabled={!currentRoom || !inputValue.trim()}>\n                  <Send className=\"h-4 w-4\" />\n                </Button>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAIA;AAEA,oBAAoB;AACpB;AACA;;;AAlBA;;;;;;;;;;;;;AAkCe,SAAS;;IACtB,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,yKAAQ,EAAC;IACrC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IAEzC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAC;IAC3C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAa,EAAE;IACjD,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAkB;IAChE,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAgB,EAAE;IAC1D,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAC;IAC7C,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;IAC/C,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,yKAAQ,EAAC;IAEzD,MAAM,cAAc,IAAA,uKAAM,EAAgB;IAC1C,MAAM,YAAY,IAAA,uKAAM,EAAiB;IACzC,MAAM,gBAAgB,IAAA,uKAAM,EAAsB,CAAC;IAEnD,MAAM,WAAW;IAEjB,2BAA2B;IAC3B,MAAM,kBAAkB,OAAO;QAC7B,MAAM,QAAQ,aAAa,OAAO,CAAC;QACnC,oBAAoB;QACpB,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,GAAG,SAAS,eAAe,EAAE,OAAO,SAAS,CAAC,EAAE;gBACtE,SAAS;oBAAE,iBAAiB,CAAC,OAAO,EAAE,OAAO;gBAAC;YAChD;YACA,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,mBAAmB;YACnB,MAAM,UAAU,CAAC,KAAK,QAAQ,IAAI,QAAQ,EAAE,EAAE,GAAG,CAAC,CAAC,MAAa,CAAC;oBAC/D,GAAG,GAAG;oBACN,IAAI,IAAI,EAAE,IAAI,OAAO,UAAU;gBACjC,CAAC;YACD,YAAY;QACd,EAAE,OAAO,GAAG;YACV,QAAQ,KAAK,CAAC,uBAAuB;QACvC,SAAU;YACR,oBAAoB;QACtB;IACF;IAEA,aAAa;IACb,MAAM,YAAY,IAAA,4KAAW;2CAAC,OAAO;YACnC,MAAM,QAAQ,aAAa,OAAO,CAAC;YACnC,IAAI;gBACF,MAAM,MAAM,MAAM,MAAM,GAAG,SAAS,wBAAwB,EAAE,MAAM,EAAE;oBACpE,SAAS;wBAAE,iBAAiB,CAAC,OAAO,EAAE,OAAO;oBAAC;gBAChD;gBACA,MAAM,OAAO,MAAM,IAAI,IAAI;gBAC3B,SAAS,KAAK,KAAK,IAAI,QAAQ,EAAE;YACnC,EAAE,OAAO,GAAG;gBAAE,QAAQ,KAAK,CAAC;YAAG;QACjC;0CAAG,EAAE;IAEL,WAAW;IACX,MAAM,cAAc,IAAA,4KAAW;6CAAC;YAC9B,MAAM,QAAQ,aAAa,OAAO,CAAC;YACnC,IAAI,CAAC,OAAO;YAEZ,MAAM,SAAS,IAAI,8JAAM,CAAC,GAAG,SAAS,QAAQ,CAAC;YAC/C,MAAM,SAAS,IAAI,iKAAM,CAAC;gBACxB,gBAAgB;yDAAE,IAAM;;gBACxB,gBAAgB;oBAAE,eAAe,CAAC,OAAO,EAAE,OAAO;gBAAC;gBACnD,SAAS;yDAAE;wBACT,eAAe;wBACf,UAAU;oBACZ;;gBACA,YAAY;yDAAE,IAAM,eAAe;;YACrC;YACA,OAAO,QAAQ;YACf,YAAY,OAAO,GAAG;QACxB;4CAAG;QAAC;QAAW;KAAU;IAEzB,IAAA,0KAAS;8BAAC;YACR,UAAU,aAAa,OAAO,CAAC,aAAa;YAC5C,YAAY,aAAa,OAAO,CAAC,WAAW;YAC5C;YACA;sCAAO;oBAAQ,YAAY,OAAO,EAAE;gBAAa;;QACnD;6BAAG;QAAC;KAAY;IAEhB,aAAa;IACb,MAAM,aAAa,CAAC;QAClB,IAAI,aAAa,eAAe,KAAK,UAAU,EAAE;QACjD,eAAe;QACf,gBAAgB,KAAK,UAAU;QAE/B,IAAI,cAAc,OAAO,CAAC,KAAK,UAAU,CAAC,EAAE;QAC5C,YAAY,OAAO,EAAE,UAAU,CAAC,iBAAiB,EAAE,KAAK,UAAU,EAAE,EAAE,CAAC;YACrE,MAAM,WAAW,KAAK,KAAK,CAAC,IAAI,IAAI;YACpC,YAAY,CAAC,OAAS;uBAAI;oBAAM;wBAAE,GAAG,QAAQ;wBAAE,IAAI,OAAO,UAAU;oBAAG;iBAAE;QAC3E;QACA,cAAc,OAAO,CAAC,KAAK,UAAU,CAAC,GAAG;IAC3C;IAEA,MAAM,aAAa,CAAC;QAClB,IAAI,GAAG,EAAE,cAAc;QACvB,IAAI,CAAC,WAAW,IAAI,MAAM,CAAC,YAAY,OAAO,EAAE,aAAa,CAAC,aAAa;QAE3E,YAAY,OAAO,CAAC,OAAO,CAAC;YAC1B,aAAa,CAAC,eAAe,EAAE,YAAY,UAAU,EAAE;YACvD,MAAM,KAAK,SAAS,CAAC;gBAAE,SAAS;gBAAY,UAAU,YAAY,QAAQ;YAAC;QAC7E;QACA,cAAc;IAChB;IAEA,IAAA,0KAAS;8BAAC;YACR,IAAI,UAAU,OAAO,EAAE;gBACrB,UAAU,OAAO,CAAC,SAAS,GAAG,UAAU,OAAO,CAAC,YAAY;YAC9D;QACF;6BAAG;QAAC;KAAS;IAEb,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC;gBAAO,WAAU;0BAChB,cAAA,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAI,WAAU;;8CACb,6LAAC,0KAAI;oCAAC,MAAK;8CACT,cAAA,6LAAC,wIAAM;wCAAC,SAAQ;wCAAQ,MAAK;kDAC3B,cAAA,6LAAC,gOAAS;4CAAC,WAAU;;;;;;;;;;;;;;;;8CAGzB,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAI,WAAU;sDACb,cAAA,6LAAC,yNAAQ;gDAAC,WAAU;;;;;;;;;;;sDAEtB,6LAAC;;8DACC,6LAAC;oDAAE,WAAU;8DAAyB,aAAa,SAAS;;;;;;8DAC5D,6LAAC;oDAAI,WAAU;;sEACZ,6LAAC;4DAAI,WAAW,CAAC,yBAAyB,EAAE,cAAc,iBAAiB,gBAAgB;;;;;;sEAC3F,6LAAC;4DAAE,WAAU;sEAAiC,cAAc,QAAQ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;sCAK7E,6LAAC,0KAAI;4BAAC,MAAK;4BAAI,WAAU;sCACvB,cAAA,6LAAC,2IAAK;gCAAC,KAAI;gCAAY,KAAI;gCAAU,OAAO;gCAAK,QAAQ;gCAAI,WAAU;;;;;;;;;;;;;;;;;;;;;;0BAK7E,6LAAC;gBAAI,WAAU;;kCAEb,6LAAC;wBAAM,WAAU;;0CACf,6LAAC;gCAAI,WAAU;0CACb,cAAA,6LAAC,oIAAI;oCAAC,cAAa;oCAAQ,WAAU;oCAAS,eAAe,CAAC;wCAAQ,aAAa;wCAAI,UAAU;oCAAI;8CACnG,cAAA,6LAAC,wIAAQ;wCAAC,WAAU;;0DAClB,6LAAC,2IAAW;gDAAC,OAAM;gDAAQ,WAAU;0DAAoB;;;;;;0DACzD,6LAAC,2IAAW;gDAAC,OAAM;gDAAS,WAAU;0DAAoB;;;;;;0DAC1D,6LAAC,2IAAW;gDAAC,OAAM;gDAAK,WAAU;0DAAoB;;;;;;;;;;;;;;;;;;;;;;0CAI5D,6LAAC;gCAAI,WAAU;0CACZ,MAAM,GAAG,CAAC,CAAC,qBACV,6LAAC,wIAAM;wCAEL,SAAS,aAAa,eAAe,KAAK,UAAU,GAAG,cAAc;wCACrE,WAAW,CAAC,4DAA4D,EAAE,aAAa,eAAe,KAAK,UAAU,GAAG,mDAAmD,IAAI;wCAC/K,SAAS,IAAM,WAAW;;0DAE1B,6LAAC,4OAAa;gDAAC,WAAU;;;;;;0DACzB,6LAAC;gDAAK,WAAU;0DAAY,KAAK,KAAK;;;;;;;uCANjC,KAAK,UAAU;;;;;;;;;;;;;;;;kCAa5B,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,KAAK;gCAAW,WAAU;0CAC7B,cAAA,6LAAC;oCAAI,WAAU;8CACb,cAAA,6LAAC;wCAAI,WAAU;kDACZ,CAAC,4BACA,6LAAC;4CAAI,WAAU;;8DACb,6LAAC,4OAAa;oDAAC,WAAU;;;;;;8DACzB,6LAAC;oDAAE,WAAU;8DAA8C;;;;;;;;;;;iEAG7D;;gDACG,kCAAoB,6LAAC;oDAAI,WAAU;8DAAsB,cAAA,6LAAC,+NAAO;wDAAC,WAAU;;;;;;;;;;;gDAC5E,SAAS,GAAG,CAAC,CAAC,oBACb,6LAAC;wDAAiB,WAAW,CAAC,WAAW,EAAE,IAAI,QAAQ,KAAK,SAAS,gBAAgB,iBAAiB;;4DACnG,IAAI,QAAQ,KAAK,wBAChB,6LAAC;gEAAI,WAAU;0EACb,cAAA,6LAAC,yNAAQ;oEAAC,WAAU;;;;;;;;;;;0EAGxB,6LAAC,oIAAI;gEAAC,WAAW,CAAC,sCAAsC,EAAE,IAAI,QAAQ,KAAK,SAAS,uCAAuC,gCAAgC;0EACzJ,cAAA,6LAAC;oEAAE,WAAU;8EAA2B,IAAI,OAAO;;;;;;;;;;;4DAEpD,IAAI,QAAQ,KAAK,wBAChB,6LAAC,wIAAM;gEAAC,WAAU;0EAChB,cAAA,6LAAC,gJAAc;oEAAC,WAAU;8EACvB,SAAS,SAAS,CAAC,GAAG;;;;;;;;;;;;uDAZrB,IAAI,EAAE;;;;;;;;;;;;;;;;;;;;;;0CAyB5B,6LAAC;gCAAI,WAAU;0CACb,cAAA,6LAAC;oCAAI,WAAU;8CACb,cAAA,6LAAC;wCACC,UAAU,CAAC;4CACT,EAAE,cAAc;4CAChB;wCACF;wCACA,WAAU;;0DAEV,6LAAC,sIAAK;gDACJ,OAAO;gDACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;gDAC7C,aAAa,cAAc,kBAAkB;gDAC7C,UAAU,CAAC;gDACX,WAAU;;;;;;0DAEZ,6LAAC,wIAAM;gDAAC,MAAK;gDAAS,MAAK;gDAAO,UAAU,CAAC,eAAe,CAAC,WAAW,IAAI;0DAC1E,cAAA,6LAAC,6MAAI;oDAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASlC;GAxOwB;;QACP,kJAAS;;;KADF"}}]
}