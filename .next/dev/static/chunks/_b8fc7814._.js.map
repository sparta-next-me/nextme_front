{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/leesumin/Downloads/nextme-front/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,yKAAO,EAAC,IAAA,gJAAI,EAAC;AACtB"}},
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///Users/leesumin/Downloads/nextme-front/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost:\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\n        icon: 'size-9',\n        'icon-sm': 'size-8',\n        'icon-lg': 'size-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'button'> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : 'button'\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,0KAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,2KAAI,GAAG;IAE9B,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf;KAnBS"}},
    {"offset": {"line": 87, "column": 0}, "map": {"version":3,"sources":["file:///Users/leesumin/Downloads/nextme-front/components/ui/input.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Input({ className, type, ...props }: React.ComponentProps<'input'>) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        'file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n        'focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]',\n        'aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,6LAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,8bACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS"}},
    {"offset": {"line": 118, "column": 0}, "map": {"version":3,"sources":["file:///Users/leesumin/Downloads/nextme-front/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn('leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn('px-6', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf;MARS"}},
    {"offset": {"line": 238, "column": 0}, "map": {"version":3,"sources":["file:///Users/leesumin/Downloads/nextme-front/app/dashboard/ai-chat/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect, useRef } from \"react\"\nimport { useRouter } from \"next/navigation\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Card } from \"@/components/ui/card\"\nimport { ArrowLeft, Send, Sparkles, Loader2, LogOut, Hash } from \"lucide-react\"\n\n// WebSocket 라이브러리\nimport { Client } from \"@stomp/stompjs\"\nimport SockJS from \"sockjs-client\"\n\nexport default function AIChatPage() {\n  const router = useRouter()\n  const [currentUserId, setCurrentUserId] = useState<string | null>(null)\n  const [userName, setUserName] = useState(\"\")\n  const [messages, setMessages] = useState<any[]>([])\n  const [inputValue, setInputValue] = useState(\"\")\n  const [isTyping, setIsTyping] = useState(false)\n  const [isConnected, setIsConnected] = useState(false)\n  const [currentRoomId, setCurrentRoomId] = useState<string | null>(null)\n  \n  const stompClient = useRef<Client | null>(null)\n  const scrollRef = useRef<HTMLDivElement>(null)\n\n  const API_BASE = \"http://sparta-nextme.xyz:30000\"\n\n  // ✅ 날짜 문자열 변환용 헬퍼\n  const formatDateString = (rawData: any) => {\n    if (!rawData) return \"\";\n    try {\n      let date: Date;\n      if (Array.isArray(rawData)) {\n        date = new Date(rawData[0], rawData[1] - 1, rawData[2]);\n      } else {\n        date = new Date(rawData);\n      }\n      return `${date.getFullYear()}년 ${date.getMonth() + 1}월 ${date.getDate()}일`;\n    } catch (e) { return \"\"; }\n  };\n\n  // ✅ 시간 표시용 헬퍼 함수\n  const renderTime = (rawData: any) => {\n    if (!rawData) return \"\";\n    let hour = \"\", min = \"\";\n    try {\n      if (Array.isArray(rawData)) {\n        hour = String(rawData[3] || \"0\").padStart(2, '0');\n        min = String(rawData[4] || \"0\").padStart(2, '0');\n      } else if (typeof rawData === 'string' && rawData.includes(',')) {\n        const parts = rawData.split(',');\n        hour = (parts[3] || \"0\").padStart(2, '0');\n        min = (parts[4] || \"0\").padStart(2, '0');\n      } else {\n        const date = new Date(rawData);\n        if (isNaN(date.getTime())) {\n          const timeStr = String(rawData);\n          if (timeStr.length >= 12) {\n            hour = timeStr.substring(8, 10).padStart(2, '0');\n            min = timeStr.substring(10, 12).padStart(2, '0');\n          } else return \"\";\n        } else {\n          hour = String(date.getHours()).padStart(2, '0');\n          min = String(date.getMinutes()).padStart(2, '0');\n        }\n      }\n      return `${hour}:${min}`;\n    } catch (e) { return \"\"; }\n  };\n\n  useEffect(() => {\n    const token = localStorage.getItem(\"accessToken\")\n    const userId = localStorage.getItem(\"userId\")\n    const name = localStorage.getItem(\"name\") || \"사용자\"\n    \n    setCurrentUserId(userId)\n    setUserName(name)\n\n    if (!token) {\n      router.push(\"/login\")\n      return\n    }\n\n    const client = new Client({\n      brokerURL: `ws://sparta-nextme.xyz:30000/ws/chat`,\n      connectHeaders: { Authorization: `Bearer ${token}` },\n      reconnectDelay: 5000,\n      webSocketFactory: () => new SockJS(`${API_BASE}/ws/chat`),\n    })\n\n    client.onConnect = () => {\n      setIsConnected(true)\n      stompClient.current = client\n      initChatRoom(token, userId!)\n    }\n\n    client.onStompError = () => setIsConnected(false)\n    client.activate()\n    stompClient.current = client\n\n    return () => {\n      if (stompClient.current) stompClient.current.deactivate()\n    }\n  }, [router])\n\n  const initChatRoom = async (token: string, userId: string) => {\n    try {\n      const res = await fetch(`${API_BASE}/v1/chats/room?roomType=AI`, {\n        headers: { \"Authorization\": `Bearer ${token}` }\n      })\n      const data = await res.json()\n      const aiRooms = data.rooms || data.result || (Array.isArray(data) ? data : [])\n      let roomId = aiRooms?.[0]?.chatRoomId || aiRooms?.[0]?.id\n\n      if (!roomId) {\n        const createRes = await fetch(`${API_BASE}/v1/chats/room`, {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\", \"Authorization\": `Bearer ${token}` },\n          body: JSON.stringify({ roomType: \"AI\", inviteUserId: userId }) \n        })\n        const newData = await createRes.json()\n        roomId = newData.chatRoomId || newData.result?.chatRoomId || newData.id\n      }\n\n      if (roomId) {\n        setCurrentRoomId(roomId)\n        const msgRes = await fetch(`${API_BASE}/v1/chats/message/${roomId}?size=20`, {\n          headers: { \"Authorization\": `Bearer ${token}` }\n        })\n        const msgData = await msgRes.json()\n        const fetchedMsgs = Array.isArray(msgData) ? msgData : (msgData.messages || msgData.result || [])\n        \n        if (fetchedMsgs.length === 0) {\n          setMessages([{\n            senderId: \"AI\",\n            content: \"안녕하세요! Next Me AI 어시스턴트입니다. 재무 지식에 대해 궁금한 점을 물어보세요.\",\n            createdAt: new Date().toISOString()\n          }])\n        } else {\n          setMessages(fetchedMsgs.reverse())\n        }\n        \n        subscribeToRoom(roomId)\n        scrollToBottom()\n      }\n    } catch (e) {\n      console.error(\"채팅방 로드 실패:\", e)\n    }\n  }\n\n  const subscribeToRoom = (roomId: string) => {\n    if (stompClient.current?.connected) {\n      stompClient.current.subscribe(`/topic/chat.room.${roomId}`, (message) => {\n        const newMessage = JSON.parse(message.body)\n        setMessages((prev) => [...prev, newMessage])\n        setIsTyping(false) // ✅ 답변이 오면 로딩 숨김\n        scrollToBottom()\n      })\n    }\n  }\n\n  const handleSend = (manualText?: string) => {\n    const textToSend = manualText || inputValue\n    if (!textToSend.trim() || !stompClient.current?.connected || !currentRoomId) return\n\n    stompClient.current.publish({\n      destination: `/app/chat.send/${currentRoomId}`,\n      body: JSON.stringify({ content: textToSend, roomType: \"AI\" }),\n    })\n\n    setInputValue(\"\")\n    setIsTyping(true) // ✅ 보내자마자 로딩 표시 시작\n    scrollToBottom() // ✅ 로딩이 보이도록 아래로 강제 스크롤\n  }\n\n  const handleLeaveRoom = async () => {\n    if (!currentRoomId) return\n    if (confirm(\"대화를 종료하시겠습니까? 종료 시 대화 내역이 삭제됩니다.\")) {\n      const token = localStorage.getItem(\"accessToken\")\n      const userId = localStorage.getItem(\"userId\")\n      try {\n        await fetch(`${API_BASE}/v1/chats/room/${currentRoomId}/leave`, {\n          method: \"POST\",\n          headers: { \"Authorization\": `Bearer ${token}`, \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({ userId: userId })\n        })\n      } catch (e) { console.error(e) } \n      finally {\n        if (stompClient.current) stompClient.current.deactivate()\n        router.push(\"/dashboard\")\n      }\n    }\n  }\n\n  const scrollToBottom = () => {\n    // 타임아웃을 주어 렌더링이 완료된 후 스크롤이 발생하도록 함\n    setTimeout(() => { \n      if (scrollRef.current) {\n        scrollRef.current.scrollTo({\n          top: scrollRef.current.scrollHeight,\n          behavior: 'smooth'\n        });\n      } \n    }, 100)\n  }\n\n  // ✅ isTyping이 변경될 때마다 스크롤을 한 번 더 실행하여 시각적 확인 보장\n  useEffect(() => {\n    if (isTyping) scrollToBottom();\n  }, [isTyping]);\n\n  return (\n    <div className=\"min-h-screen flex flex-col bg-background h-screen overflow-hidden\">\n      <header className=\"border-b border-border bg-card/50 backdrop-blur-sm shrink-0 z-50\">\n        <div className=\"container mx-auto px-4 h-16 flex items-center justify-between max-w-4xl\">\n          <div className=\"flex items-center gap-4\">\n            <Button variant=\"ghost\" size=\"icon\" onClick={() => router.back()}><ArrowLeft className=\"h-5 w-5\" /></Button>\n            <div className=\"flex items-center gap-2\">\n              <div className=\"h-8 w-8 rounded-full bg-primary flex items-center justify-center\">\n                <Sparkles className=\"h-4 w-4 text-primary-foreground\" />\n              </div>\n              <div>\n                <p className=\"font-semibold text-sm\">AI 어시스턴트</p>\n                <p className={`text-[10px] ${isConnected ? 'text-green-500 font-bold' : 'text-muted-foreground'}`}>\n                  {isConnected ? '● ONLINE' : '○ CONNECTING...'}\n                </p>\n              </div>\n            </div>\n          </div>\n          <Button variant=\"ghost\" size=\"sm\" onClick={handleLeaveRoom} className=\"text-xs font-bold text-muted-foreground hover:text-destructive transition-colors\">\n            <LogOut className=\"h-4 w-4 mr-1.5\" /> 나가기\n          </Button>\n        </div>\n      </header>\n\n      {/* Message Area */}\n      <div ref={scrollRef} className=\"flex-1 overflow-y-auto bg-gradient-to-b from-transparent to-secondary/5 custom-scrollbar pb-4\">\n        <div className=\"container mx-auto px-4 py-8 max-w-4xl\">\n          <div className=\"space-y-6\">\n            {messages.map((msg, idx) => {\n              const isMine = String(msg.senderId) === String(currentUserId)\n              const currentDate = formatDateString(msg.createdAt);\n              const prevDate = idx > 0 ? formatDateString(messages[idx - 1].createdAt) : null;\n              const showDateDivider = currentDate !== prevDate;\n\n              return (\n                <div key={idx} className=\"space-y-6\">\n                  {showDateDivider && (\n                    <div className=\"flex justify-center my-8\">\n                      <div className=\"bg-muted/50 text-muted-foreground text-[10px] font-bold px-4 py-1 rounded-full border border-border/50 uppercase tracking-tighter\">\n                        {currentDate}\n                      </div>\n                    </div>\n                  )}\n\n                  <div className={`flex gap-3 ${isMine ? \"justify-end\" : \"justify-start\"} animate-in fade-in duration-300`}>\n                    {!isMine && (\n                      <div className=\"h-9 w-9 rounded-full bg-primary/10 flex items-center justify-center shrink-0 border border-primary/20\">\n                        <Sparkles className=\"h-4 w-4 text-primary\" />\n                      </div>\n                    )}\n                    <div className={`flex items-end gap-2 max-w-[75%] ${isMine ? \"flex-row-reverse\" : \"flex-row\"}`}>\n                      <Card className={`p-4 shadow-sm text-sm leading-relaxed ${\n                        isMine ? \"bg-primary text-primary-foreground rounded-2xl rounded-tr-none border-none\" \n                               : \"bg-card rounded-2xl rounded-tl-none border-border/50\"\n                      }`}>\n                        {msg.content}\n                      </Card>\n                      <span className=\"text-[10px] text-muted-foreground/50 font-medium pb-1 whitespace-nowrap\">\n                        {renderTime(msg.createdAt)}\n                      </span>\n                    </div>\n                  </div>\n                </div>\n              )\n            })}\n            \n            {/* ✅ [수정] 렌더링 위치를 명확히 하고 가시성을 높임 */}\n            {isTyping && (\n               <div className=\"flex gap-3 justify-start pt-4 animate-in slide-in-from-bottom-2 duration-300\">\n                 <div className=\"h-9 w-9 rounded-full bg-primary/10 flex items-center justify-center shrink-0 border border-primary/20\">\n                    <Loader2 className=\"h-4 w-4 animate-spin text-primary\" />\n                 </div>\n                 <div className=\"bg-card border border-border/50 rounded-2xl rounded-tl-none p-4 shadow-sm flex flex-col gap-2\">\n                    <div className=\"flex gap-1\">\n                      <span className=\"w-1.5 h-1.5 bg-primary/40 rounded-full animate-bounce\" />\n                      <span className=\"w-1.5 h-1.5 bg-primary/40 rounded-full animate-bounce [animation-delay:0.2s]\" />\n                      <span className=\"w-1.5 h-1.5 bg-primary/40 rounded-full animate-bounce [animation-delay:0.4s]\" />\n                    </div>\n                    <span className=\"text-[11px] text-primary/70 font-bold animate-pulse\">\n                      AI가 답변을 작성하고 있습니다...\n                    </span>\n                 </div>\n               </div>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* 하단 영역 */}\n      <div className=\"border-t border-border bg-card/80 backdrop-blur-md shrink-0 p-4 pb-6\">\n        <div className=\"container mx-auto max-w-4xl space-y-4\">\n          \n          <div className=\"flex flex-wrap gap-2 overflow-x-auto no-scrollbar pb-1\">\n            {[\n              \"효과적인 지출 관리 비법\",\n              \"주택 청약 저축 가이드\",\n              \"사회초년생 자산 관리 팁\",\n              \"안전한 예적금 고르는 법\",\n              \"종잣돈 1억 모으기 전략\",\n              \"인플레이션 대비 투자법\"\n            ].map((q, i) => (\n              <button\n                key={i}\n                onClick={() => handleSend(q)}\n                disabled={isTyping} // ✅ 전송 중 버튼 비활성화\n                className=\"flex items-center gap-1.5 px-3 py-1.5 rounded-full bg-secondary/50 hover:bg-primary/10 border border-border hover:border-primary/30 transition-all text-[11px] font-bold text-muted-foreground hover:text-primary group whitespace-nowrap disabled:opacity-50\"\n              >\n                <Hash className=\"w-3 h-3 text-muted-foreground/40 group-hover:text-primary/50\" />\n                {q}\n              </button>\n            ))}\n          </div>\n\n          <form onSubmit={(e) => { e.preventDefault(); handleSend(); }} className=\"flex gap-2\">\n            <Input\n              value={inputValue}\n              onChange={(e) => setInputValue(e.target.value)}\n              placeholder={isTyping ? \"AI가 답변을 생각하는 중입니다...\" : (isConnected ? \"AI에게 궁금한 점을 물어보세요...\" : \"연결 대기 중...\")}\n              className=\"flex-1 bg-background h-12 rounded-xl border-border/50 focus:ring-primary\"\n              disabled={!isConnected || isTyping} \n            />\n            <Button type=\"submit\" size=\"icon\" className=\"h-12 w-12 rounded-xl shadow-lg\" disabled={!isConnected || !inputValue.trim() || isTyping}>\n              {isTyping ? <Loader2 className=\"h-4 w-4 animate-spin\" /> : <Send className=\"h-4 w-4\" />}\n            </Button>\n          </form>\n        </div>\n      </div>\n\n      <style jsx global>{`\n        .custom-scrollbar::-webkit-scrollbar { width: 4px; }\n        .custom-scrollbar::-webkit-scrollbar-thumb { background: #e4e4e7; border-radius: 10px; }\n        .no-scrollbar::-webkit-scrollbar { display: none; }\n        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }\n      `}</style>\n    </div>\n  )\n}"],"names":[],"mappings":";;;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,kBAAkB;AAClB;AACA;;;AAXA;;;;;;;;;;AAae,SAAS;;IACtB,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,yKAAQ,EAAgB;IAClE,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IACzC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAQ,EAAE;IAClD,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAC;IAC7C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IACzC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;IAC/C,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,yKAAQ,EAAgB;IAElE,MAAM,cAAc,IAAA,uKAAM,EAAgB;IAC1C,MAAM,YAAY,IAAA,uKAAM,EAAiB;IAEzC,MAAM,WAAW;IAEjB,kBAAkB;IAClB,MAAM,mBAAmB,CAAC;QACxB,IAAI,CAAC,SAAS,OAAO;QACrB,IAAI;YACF,IAAI;YACJ,IAAI,MAAM,OAAO,CAAC,UAAU;gBAC1B,OAAO,IAAI,KAAK,OAAO,CAAC,EAAE,EAAE,OAAO,CAAC,EAAE,GAAG,GAAG,OAAO,CAAC,EAAE;YACxD,OAAO;gBACL,OAAO,IAAI,KAAK;YAClB;YACA,OAAO,GAAG,KAAK,WAAW,GAAG,EAAE,EAAE,KAAK,QAAQ,KAAK,EAAE,EAAE,EAAE,KAAK,OAAO,GAAG,CAAC,CAAC;QAC5E,EAAE,OAAO,GAAG;YAAE,OAAO;QAAI;IAC3B;IAEA,iBAAiB;IACjB,MAAM,aAAa,CAAC;QAClB,IAAI,CAAC,SAAS,OAAO;QACrB,IAAI,OAAO,IAAI,MAAM;QACrB,IAAI;YACF,IAAI,MAAM,OAAO,CAAC,UAAU;gBAC1B,OAAO,OAAO,OAAO,CAAC,EAAE,IAAI,KAAK,QAAQ,CAAC,GAAG;gBAC7C,MAAM,OAAO,OAAO,CAAC,EAAE,IAAI,KAAK,QAAQ,CAAC,GAAG;YAC9C,OAAO,IAAI,OAAO,YAAY,YAAY,QAAQ,QAAQ,CAAC,MAAM;gBAC/D,MAAM,QAAQ,QAAQ,KAAK,CAAC;gBAC5B,OAAO,CAAC,KAAK,CAAC,EAAE,IAAI,GAAG,EAAE,QAAQ,CAAC,GAAG;gBACrC,MAAM,CAAC,KAAK,CAAC,EAAE,IAAI,GAAG,EAAE,QAAQ,CAAC,GAAG;YACtC,OAAO;gBACL,MAAM,OAAO,IAAI,KAAK;gBACtB,IAAI,MAAM,KAAK,OAAO,KAAK;oBACzB,MAAM,UAAU,OAAO;oBACvB,IAAI,QAAQ,MAAM,IAAI,IAAI;wBACxB,OAAO,QAAQ,SAAS,CAAC,GAAG,IAAI,QAAQ,CAAC,GAAG;wBAC5C,MAAM,QAAQ,SAAS,CAAC,IAAI,IAAI,QAAQ,CAAC,GAAG;oBAC9C,OAAO,OAAO;gBAChB,OAAO;oBACL,OAAO,OAAO,KAAK,QAAQ,IAAI,QAAQ,CAAC,GAAG;oBAC3C,MAAM,OAAO,KAAK,UAAU,IAAI,QAAQ,CAAC,GAAG;gBAC9C;YACF;YACA,OAAO,GAAG,KAAK,CAAC,EAAE,KAAK;QACzB,EAAE,OAAO,GAAG;YAAE,OAAO;QAAI;IAC3B;IAEA,IAAA,0KAAS;gCAAC;YACR,MAAM,QAAQ,aAAa,OAAO,CAAC;YACnC,MAAM,SAAS,aAAa,OAAO,CAAC;YACpC,MAAM,OAAO,aAAa,OAAO,CAAC,WAAW;YAE7C,iBAAiB;YACjB,YAAY;YAEZ,IAAI,CAAC,OAAO;gBACV,OAAO,IAAI,CAAC;gBACZ;YACF;YAEA,MAAM,SAAS,IAAI,iKAAM,CAAC;gBACxB,WAAW,CAAC,oCAAoC,CAAC;gBACjD,gBAAgB;oBAAE,eAAe,CAAC,OAAO,EAAE,OAAO;gBAAC;gBACnD,gBAAgB;gBAChB,gBAAgB;4CAAE,IAAM,IAAI,8JAAM,CAAC,GAAG,SAAS,QAAQ,CAAC;;YAC1D;YAEA,OAAO,SAAS;wCAAG;oBACjB,eAAe;oBACf,YAAY,OAAO,GAAG;oBACtB,aAAa,OAAO;gBACtB;;YAEA,OAAO,YAAY;wCAAG,IAAM,eAAe;;YAC3C,OAAO,QAAQ;YACf,YAAY,OAAO,GAAG;YAEtB;wCAAO;oBACL,IAAI,YAAY,OAAO,EAAE,YAAY,OAAO,CAAC,UAAU;gBACzD;;QACF;+BAAG;QAAC;KAAO;IAEX,MAAM,eAAe,OAAO,OAAe;QACzC,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,GAAG,SAAS,0BAA0B,CAAC,EAAE;gBAC/D,SAAS;oBAAE,iBAAiB,CAAC,OAAO,EAAE,OAAO;gBAAC;YAChD;YACA,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,MAAM,UAAU,KAAK,KAAK,IAAI,KAAK,MAAM,IAAI,CAAC,MAAM,OAAO,CAAC,QAAQ,OAAO,EAAE;YAC7E,IAAI,SAAS,SAAS,CAAC,EAAE,EAAE,cAAc,SAAS,CAAC,EAAE,EAAE;YAEvD,IAAI,CAAC,QAAQ;gBACX,MAAM,YAAY,MAAM,MAAM,GAAG,SAAS,cAAc,CAAC,EAAE;oBACzD,QAAQ;oBACR,SAAS;wBAAE,gBAAgB;wBAAoB,iBAAiB,CAAC,OAAO,EAAE,OAAO;oBAAC;oBAClF,MAAM,KAAK,SAAS,CAAC;wBAAE,UAAU;wBAAM,cAAc;oBAAO;gBAC9D;gBACA,MAAM,UAAU,MAAM,UAAU,IAAI;gBACpC,SAAS,QAAQ,UAAU,IAAI,QAAQ,MAAM,EAAE,cAAc,QAAQ,EAAE;YACzE;YAEA,IAAI,QAAQ;gBACV,iBAAiB;gBACjB,MAAM,SAAS,MAAM,MAAM,GAAG,SAAS,kBAAkB,EAAE,OAAO,QAAQ,CAAC,EAAE;oBAC3E,SAAS;wBAAE,iBAAiB,CAAC,OAAO,EAAE,OAAO;oBAAC;gBAChD;gBACA,MAAM,UAAU,MAAM,OAAO,IAAI;gBACjC,MAAM,cAAc,MAAM,OAAO,CAAC,WAAW,UAAW,QAAQ,QAAQ,IAAI,QAAQ,MAAM,IAAI,EAAE;gBAEhG,IAAI,YAAY,MAAM,KAAK,GAAG;oBAC5B,YAAY;wBAAC;4BACX,UAAU;4BACV,SAAS;4BACT,WAAW,IAAI,OAAO,WAAW;wBACnC;qBAAE;gBACJ,OAAO;oBACL,YAAY,YAAY,OAAO;gBACjC;gBAEA,gBAAgB;gBAChB;YACF;QACF,EAAE,OAAO,GAAG;YACV,QAAQ,KAAK,CAAC,cAAc;QAC9B;IACF;IAEA,MAAM,kBAAkB,CAAC;QACvB,IAAI,YAAY,OAAO,EAAE,WAAW;YAClC,YAAY,OAAO,CAAC,SAAS,CAAC,CAAC,iBAAiB,EAAE,QAAQ,EAAE,CAAC;gBAC3D,MAAM,aAAa,KAAK,KAAK,CAAC,QAAQ,IAAI;gBAC1C,YAAY,CAAC,OAAS;2BAAI;wBAAM;qBAAW;gBAC3C,YAAY,QAAO,iBAAiB;gBACpC;YACF;QACF;IACF;IAEA,MAAM,aAAa,CAAC;QAClB,MAAM,aAAa,cAAc;QACjC,IAAI,CAAC,WAAW,IAAI,MAAM,CAAC,YAAY,OAAO,EAAE,aAAa,CAAC,eAAe;QAE7E,YAAY,OAAO,CAAC,OAAO,CAAC;YAC1B,aAAa,CAAC,eAAe,EAAE,eAAe;YAC9C,MAAM,KAAK,SAAS,CAAC;gBAAE,SAAS;gBAAY,UAAU;YAAK;QAC7D;QAEA,cAAc;QACd,YAAY,OAAM,mBAAmB;QACrC,kBAAiB,wBAAwB;IAC3C;IAEA,MAAM,kBAAkB;QACtB,IAAI,CAAC,eAAe;QACpB,IAAI,QAAQ,qCAAqC;YAC/C,MAAM,QAAQ,aAAa,OAAO,CAAC;YACnC,MAAM,SAAS,aAAa,OAAO,CAAC;YACpC,IAAI;gBACF,MAAM,MAAM,GAAG,SAAS,eAAe,EAAE,cAAc,MAAM,CAAC,EAAE;oBAC9D,QAAQ;oBACR,SAAS;wBAAE,iBAAiB,CAAC,OAAO,EAAE,OAAO;wBAAE,gBAAgB;oBAAmB;oBAClF,MAAM,KAAK,SAAS,CAAC;wBAAE,QAAQ;oBAAO;gBACxC;YACF,EAAE,OAAO,GAAG;gBAAE,QAAQ,KAAK,CAAC;YAAG,SACvB;gBACN,IAAI,YAAY,OAAO,EAAE,YAAY,OAAO,CAAC,UAAU;gBACvD,OAAO,IAAI,CAAC;YACd;QACF;IACF;IAEA,MAAM,iBAAiB;QACrB,mCAAmC;QACnC,WAAW;YACT,IAAI,UAAU,OAAO,EAAE;gBACrB,UAAU,OAAO,CAAC,QAAQ,CAAC;oBACzB,KAAK,UAAU,OAAO,CAAC,YAAY;oBACnC,UAAU;gBACZ;YACF;QACF,GAAG;IACL;IAEA,gDAAgD;IAChD,IAAA,0KAAS;gCAAC;YACR,IAAI,UAAU;QAChB;+BAAG;QAAC;KAAS;IAEb,qBACE,6LAAC;kDAAc;;0BACb,6LAAC;0DAAiB;0BAChB,cAAA,6LAAC;8DAAc;;sCACb,6LAAC;sEAAc;;8CACb,6LAAC,wIAAM;oCAAC,SAAQ;oCAAQ,MAAK;oCAAO,SAAS,IAAM,OAAO,IAAI;8CAAI,cAAA,6LAAC,gOAAS;wCAAC,WAAU;;;;;;;;;;;8CACvF,6LAAC;8EAAc;;sDACb,6LAAC;sFAAc;sDACb,cAAA,6LAAC,yNAAQ;gDAAC,WAAU;;;;;;;;;;;sDAEtB,6LAAC;;;8DACC,6LAAC;8FAAY;8DAAwB;;;;;;8DACrC,6LAAC;8FAAa,CAAC,YAAY,EAAE,cAAc,6BAA6B,yBAAyB;8DAC9F,cAAc,aAAa;;;;;;;;;;;;;;;;;;;;;;;;sCAKpC,6LAAC,wIAAM;4BAAC,SAAQ;4BAAQ,MAAK;4BAAK,SAAS;4BAAiB,WAAU;;8CACpE,6LAAC,uNAAM;oCAAC,WAAU;;;;;;gCAAmB;;;;;;;;;;;;;;;;;;0BAM3C,6LAAC;gBAAI,KAAK;0DAAqB;0BAC7B,cAAA,6LAAC;8DAAc;8BACb,cAAA,6LAAC;kEAAc;;4BACZ,SAAS,GAAG,CAAC,CAAC,KAAK;gCAClB,MAAM,SAAS,OAAO,IAAI,QAAQ,MAAM,OAAO;gCAC/C,MAAM,cAAc,iBAAiB,IAAI,SAAS;gCAClD,MAAM,WAAW,MAAM,IAAI,iBAAiB,QAAQ,CAAC,MAAM,EAAE,CAAC,SAAS,IAAI;gCAC3E,MAAM,kBAAkB,gBAAgB;gCAExC,qBACE,6LAAC;8EAAwB;;wCACtB,iCACC,6LAAC;sFAAc;sDACb,cAAA,6LAAC;0FAAc;0DACZ;;;;;;;;;;;sDAKP,6LAAC;sFAAe,CAAC,WAAW,EAAE,SAAS,gBAAgB,gBAAgB,gCAAgC,CAAC;;gDACrG,CAAC,wBACA,6LAAC;8FAAc;8DACb,cAAA,6LAAC,yNAAQ;wDAAC,WAAU;;;;;;;;;;;8DAGxB,6LAAC;8FAAe,CAAC,iCAAiC,EAAE,SAAS,qBAAqB,YAAY;;sEAC5F,6LAAC,oIAAI;4DAAC,WAAW,CAAC,sCAAsC,EACtD,SAAS,+EACA,wDACT;sEACC,IAAI,OAAO;;;;;;sEAEd,6LAAC;sGAAe;sEACb,WAAW,IAAI,SAAS;;;;;;;;;;;;;;;;;;;mCAvBvB;;;;;4BA6Bd;4BAGC,0BACE,6LAAC;0EAAc;;kDACb,6LAAC;kFAAc;kDACZ,cAAA,6LAAC,+NAAO;4CAAC,WAAU;;;;;;;;;;;kDAEtB,6LAAC;kFAAc;;0DACZ,6LAAC;0FAAc;;kEACb,6LAAC;kGAAe;;;;;;kEAChB,6LAAC;kGAAe;;;;;;kEAChB,6LAAC;kGAAe;;;;;;;;;;;;0DAElB,6LAAC;0FAAe;0DAAsD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAWpF,6LAAC;0DAAc;0BACb,cAAA,6LAAC;8DAAc;;sCAEb,6LAAC;sEAAc;sCACZ;gCACC;gCACA;gCACA;gCACA;gCACA;gCACA;6BACD,CAAC,GAAG,CAAC,CAAC,GAAG,kBACR,6LAAC;oCAEC,SAAS,IAAM,WAAW;oCAC1B,UAAU;8EACA;;sDAEV,6LAAC,6MAAI;4CAAC,WAAU;;;;;;wCACf;;mCANI;;;;;;;;;;sCAWX,6LAAC;4BAAK,UAAU,CAAC;gCAAQ,EAAE,cAAc;gCAAI;4BAAc;sEAAa;;8CACtE,6LAAC,sIAAK;oCACJ,OAAO;oCACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;oCAC7C,aAAa,WAAW,yBAA0B,cAAc,yBAAyB;oCACzF,WAAU;oCACV,UAAU,CAAC,eAAe;;;;;;8CAE5B,6LAAC,wIAAM;oCAAC,MAAK;oCAAS,MAAK;oCAAO,WAAU;oCAAiC,UAAU,CAAC,eAAe,CAAC,WAAW,IAAI,MAAM;8CAC1H,yBAAW,6LAAC,+NAAO;wCAAC,WAAU;;;;;6DAA4B,6LAAC,6MAAI;wCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAczF;GA/UwB;;QACP,kJAAS;;;KADF"}}]
}