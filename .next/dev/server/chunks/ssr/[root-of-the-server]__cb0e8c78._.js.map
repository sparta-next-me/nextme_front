{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/leesumin/Downloads/nextme-front/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB"}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///Users/leesumin/Downloads/nextme-front/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost:\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\n        icon: 'size-9',\n        'icon-sm': 'size-8',\n        'icon-lg': 'size-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'button'> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : 'button'\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,uKAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,wKAAI,GAAG;IAE9B,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 78, "column": 0}, "map": {"version":3,"sources":["file:///Users/leesumin/Downloads/nextme-front/components/ui/input.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Input({ className, type, ...props }: React.ComponentProps<'input'>) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        'file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n        'focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]',\n        'aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,8OAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,8bACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 103, "column": 0}, "map": {"version":3,"sources":["file:///Users/leesumin/Downloads/nextme-front/components/ui/avatar.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as AvatarPrimitive from '@radix-ui/react-avatar'\n\nimport { cn } from '@/lib/utils'\n\nfunction Avatar({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Root>) {\n  return (\n    <AvatarPrimitive.Root\n      data-slot=\"avatar\"\n      className={cn(\n        'relative flex size-8 shrink-0 overflow-hidden rounded-full',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction AvatarImage({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Image>) {\n  return (\n    <AvatarPrimitive.Image\n      data-slot=\"avatar-image\"\n      className={cn('aspect-square size-full', className)}\n      {...props}\n    />\n  )\n}\n\nfunction AvatarFallback({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Fallback>) {\n  return (\n    <AvatarPrimitive.Fallback\n      data-slot=\"avatar-fallback\"\n      className={cn(\n        'bg-muted flex size-full items-center justify-center rounded-full',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Avatar, AvatarImage, AvatarFallback }\n"],"names":[],"mappings":";;;;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,OAAO,EACd,SAAS,EACT,GAAG,OAC+C;IAClD,qBACE,8OAAC,0KAAoB;QACnB,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,8DACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,8OAAC,2KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,2BAA2B;QACxC,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,eAAe,EACtB,SAAS,EACT,GAAG,OACmD;IACtD,qBACE,8OAAC,8KAAwB;QACvB,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,oEACA;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 156, "column": 0}, "map": {"version":3,"sources":["file:///Users/leesumin/Downloads/nextme-front/components/ui/badge.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst badgeVariants = cva(\n  'inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden',\n  {\n    variants: {\n      variant: {\n        default:\n          'border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90',\n        secondary:\n          'border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90',\n        destructive:\n          'border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n    },\n  },\n)\n\nfunction Badge({\n  className,\n  variant,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'span'> &\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : 'span'\n\n  return (\n    <Comp\n      data-slot=\"badge\"\n      className={cn(badgeVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,IAAA,uKAAG,EACvB,kZACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,UAAU,KAAK,EACf,GAAG,OAEuD;IAC1D,MAAM,OAAO,UAAU,wKAAI,GAAG;IAE9B,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 202, "column": 0}, "map": {"version":3,"sources":["file:///Users/leesumin/Downloads/nextme-front/components/ui/tabs.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as TabsPrimitive from '@radix-ui/react-tabs'\n\nimport { cn } from '@/lib/utils'\n\nfunction Tabs({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Root>) {\n  return (\n    <TabsPrimitive.Root\n      data-slot=\"tabs\"\n      className={cn('flex flex-col gap-2', className)}\n      {...props}\n    />\n  )\n}\n\nfunction TabsList({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.List>) {\n  return (\n    <TabsPrimitive.List\n      data-slot=\"tabs-list\"\n      className={cn(\n        'bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TabsTrigger({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Trigger>) {\n  return (\n    <TabsPrimitive.Trigger\n      data-slot=\"tabs-trigger\"\n      className={cn(\n        \"data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TabsContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Content>) {\n  return (\n    <TabsPrimitive.Content\n      data-slot=\"tabs-content\"\n      className={cn('flex-1 outline-none', className)}\n      {...props}\n    />\n  )\n}\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n"],"names":[],"mappings":";;;;;;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,KAAK,EACZ,SAAS,EACT,GAAG,OAC6C;IAChD,qBACE,8OAAC,wKAAkB;QACjB,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,uBAAuB;QACpC,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,SAAS,EAChB,SAAS,EACT,GAAG,OAC6C;IAChD,qBACE,8OAAC,wKAAkB;QACjB,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,uGACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,8OAAC,2KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,mqBACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,8OAAC,2KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,uBAAuB;QACpC,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 334, "column": 0}, "map": {"version":3,"sources":["file:///Users/leesumin/Downloads/nextme-front/app/dashboard/chat/page.tsx"],"sourcesContent":["// \"use client\"\n\n// import Link from \"next/link\"\n// import { Button } from \"@/components/ui/button\"\n// import { Card } from \"@/components/ui/card\"\n// import { Input } from \"@/components/ui/input\"\n// import { Avatar, AvatarFallback } from \"@/components/ui/avatar\"\n// import { ArrowLeft, Send, Sparkles } from \"lucide-react\"\n// import Image from \"next/image\"\n// import { useState } from \"react\"\n\n// export default function ChatPage() {\n//   const [message, setMessage] = useState(\"\")\n//   const [messages, setMessages] = useState([\n//     {\n//       role: \"assistant\",\n//       content: \"안녕하세요! Next Me AI 어시스턴트입니다. 재무 관련 궁금한 점을 물어보세요.\",\n//     },\n//   ])\n\n//   const handleSend = () => {\n//     if (!message.trim()) return\n\n//     setMessages([...messages, { role: \"user\", content: message }])\n//     setMessage(\"\")\n\n//     // Simulate AI response\n//     setTimeout(() => {\n//       setMessages((prev) => [\n//         ...prev,\n//         {\n//           role: \"assistant\",\n//           content: \"질문 감사합니다. 현재 데모 모드로 실제 AI 응답은 백엔드 연동 후 가능합니다.\",\n//         },\n//       ])\n//     }, 1000)\n//   }\n\n//   return (\n//     <div className=\"min-h-screen flex flex-col\">\n//       {/* Header */}\n//       <header className=\"border-b border-border bg-card/50 backdrop-blur-sm sticky top-0 z-50\">\n//         <div className=\"container mx-auto px-4 h-16 flex items-center justify-between\">\n//           <div className=\"flex items-center gap-4\">\n//             <Link href=\"/dashboard\">\n//               <Button variant=\"ghost\" size=\"icon\">\n//                 <ArrowLeft className=\"h-5 w-5\" />\n//               </Button>\n//             </Link>\n//             <div className=\"flex items-center gap-2\">\n//               <div className=\"h-8 w-8 rounded-full bg-primary flex items-center justify-center\">\n//                 <Sparkles className=\"h-4 w-4 text-primary-foreground\" />\n//               </div>\n//               <div>\n//                 <p className=\"font-semibold text-sm\">AI 어시스턴트</p>\n//                 <p className=\"text-xs text-muted-foreground\">온라인</p>\n//               </div>\n//             </div>\n//           </div>\n//           <Link href=\"/\" className=\"flex items-center gap-2\">\n//             <Image src=\"/logo.png\" alt=\"Next Me\" width={100} height={27} className=\"h-7 w-auto\" />\n//           </Link>\n//         </div>\n//       </header>\n\n//       {/* Chat Messages */}\n//       <div className=\"flex-1 overflow-y-auto\">\n//         <div className=\"container mx-auto px-4 py-8 max-w-4xl\">\n//           <div className=\"space-y-6\">\n//             {messages.map((msg, idx) => (\n//               <div key={idx} className={`flex gap-4 ${msg.role === \"user\" ? \"justify-end\" : \"justify-start\"}`}>\n//                 {msg.role === \"assistant\" && (\n//                   <div className=\"h-10 w-10 rounded-full bg-primary flex items-center justify-center flex-shrink-0\">\n//                     <Sparkles className=\"h-5 w-5 text-primary-foreground\" />\n//                   </div>\n//                 )}\n//                 <Card className={`p-4 max-w-[70%] ${msg.role === \"user\" ? \"bg-primary text-primary-foreground\" : \"\"}`}>\n//                   <p className=\"text-sm\">{msg.content}</p>\n//                 </Card>\n//                 {msg.role === \"user\" && (\n//                   <Avatar className=\"flex-shrink-0\">\n//                     <AvatarFallback>김</AvatarFallback>\n//                   </Avatar>\n//                 )}\n//               </div>\n//             ))}\n//           </div>\n\n//           {/* Suggested Questions */}\n//           {messages.length === 1 && (\n//             <div className=\"mt-8 space-y-4\">\n//               <p className=\"text-sm text-muted-foreground text-center\">자주 묻는 질문</p>\n//               <div className=\"grid md:grid-cols-2 gap-3\">\n//                 <Button\n//                   variant=\"outline\"\n//                   className=\"h-auto p-4 text-left justify-start bg-transparent\"\n//                   onClick={() => setMessage(\"주택 구매를 위해 얼마나 저축해야 하나요?\")}\n//                 >\n//                   <span className=\"text-sm\">주택 구매를 위해 얼마나 저축해야 하나요?</span>\n//                 </Button>\n//                 <Button\n//                   variant=\"outline\"\n//                   className=\"h-auto p-4 text-left justify-start bg-transparent\"\n//                   onClick={() => setMessage(\"은퇴 준비는 언제부터 시작하는 게 좋을까요?\")}\n//                 >\n//                   <span className=\"text-sm\">은퇴 준비는 언제부터 시작하는 게 좋을까요?</span>\n//                 </Button>\n//                 <Button\n//                   variant=\"outline\"\n//                   className=\"h-auto p-4 text-left justify-start bg-transparent\"\n//                   onClick={() => setMessage(\"지출을 줄일 수 있는 방법이 있나요?\")}\n//                 >\n//                   <span className=\"text-sm\">지출을 줄일 수 있는 방법이 있나요?</span>\n//                 </Button>\n//                 <Button\n//                   variant=\"outline\"\n//                   className=\"h-auto p-4 text-left justify-start bg-transparent\"\n//                   onClick={() => setMessage(\"투자는 어떻게 시작하면 좋을까요?\")}\n//                 >\n//                   <span className=\"text-sm\">투자는 어떻게 시작하면 좋을까요?</span>\n//                 </Button>\n//               </div>\n//             </div>\n//           )}\n//         </div>\n//       </div>\n\n//       {/* Input Area */}\n//       <div className=\"border-t border-border bg-card/50 backdrop-blur-sm\">\n//         <div className=\"container mx-auto px-4 py-4 max-w-4xl\">\n//           <form\n//             onSubmit={(e) => {\n//               e.preventDefault()\n//               handleSend()\n//             }}\n//             className=\"flex gap-2\"\n//           >\n//             <Input\n//               value={message}\n//               onChange={(e) => setMessage(e.target.value)}\n//               placeholder=\"메시지를 입력하세요...\"\n//               className=\"flex-1 bg-background\"\n//             />\n//             <Button type=\"submit\" size=\"icon\">\n//               <Send className=\"h-4 w-4\" />\n//             </Button>\n//           </form>\n//         </div>\n//       </div>\n//     </div>\n//   )\n// }\n\n\"use client\"\n\nimport { useEffect, useState, useCallback, useRef } from \"react\"\nimport { useRouter } from \"next/navigation\"\nimport Link from \"next/link\"\nimport { Button } from \"@/components/ui/button\"\nimport { Card } from \"@/components/ui/card\"\nimport { Input } from \"@/components/ui/input\"\nimport { Avatar, AvatarFallback } from \"@/components/ui/avatar\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Tabs, TabsList, TabsTrigger } from \"@/components/ui/tabs\"\nimport { \n  Send, ChevronLeft, Users, User, Bot, \n  Circle, MessageSquare, Loader2, Sparkles \n} from \"lucide-react\"\n\n// WebSocket & STOMP\nimport { Client } from '@stomp/stompjs'\nimport SockJS from 'sockjs-client'\n\ninterface ChatRoom {\n  id: string;\n  title: string;\n  roomType: 'GROUP' | 'DIRECT' | 'AI';\n  lastMessage?: string;\n}\n\ninterface ChatMessage {\n  senderId: string;\n  senderName: string;\n  content: string;\n  timestamp: string;\n}\n\nexport default function ChatPage() {\n  const router = useRouter()\n  const [userId, setUserId] = useState(\"\")\n  const [userName, setUserName] = useState(\"\")\n  \n  // 상태 관리\n  const [activeTab, setActiveTab] = useState(\"GROUP\")\n  const [rooms, setRooms] = useState<ChatRoom[]>([])\n  const [currentRoom, setCurrentRoom] = useState<ChatRoom | null>(null)\n  const [messages, setMessages] = useState<ChatMessage[]>([])\n  const [inputValue, setInputValue] = useState(\"\")\n  const [isConnected, setIsConnected] = useState(false)\n\n  const stompClient = useRef<Client | null>(null)\n  const scrollRef = useRef<HTMLDivElement>(null)\n  const subscriptions = useRef<Record<string, any>>({})\n\n  const API_BASE = 'http://sparta-nextme.xyz:18080'\n\n  // 1. 방 목록 불러오기\n  const loadRooms = async (type: string) => {\n    const token = localStorage.getItem(\"accessToken\")\n    try {\n      const res = await fetch(`${API_BASE}/v1/chats/room?roomType=${type}`, {\n        headers: { \"Authorization\": `Bearer ${token}` }\n      })\n      const data = await res.json()\n      setRooms(data.rooms || data || [])\n    } catch (e) { console.error(\"방 목록 로드 실패\", e) }\n  }\n\n  // 2. 소켓 연결\n  const connectChat = useCallback(() => {\n    const token = localStorage.getItem(\"accessToken\")\n    if (!token) return\n\n    const socket = new SockJS(`${API_BASE}/ws/chat`)\n    const client = new Client({\n      webSocketFactory: () => socket,\n      connectHeaders: { Authorization: `Bearer ${token}` },\n      onConnect: () => {\n        setIsConnected(true)\n        loadRooms(activeTab)\n      },\n      onDisconnect: () => setIsConnected(false),\n    })\n    client.activate()\n    stompClient.current = client\n  }, [activeTab])\n\n  useEffect(() => {\n    setUserId(localStorage.getItem(\"userId\") || \"\")\n    setUserName(localStorage.getItem(\"name\") || \"사용자\")\n    connectChat()\n    return () => { stompClient.current?.deactivate() }\n  }, [connectChat])\n\n  // 3. 방 선택 및 구독\n  const selectRoom = (room: ChatRoom) => {\n    if (currentRoom?.id === room.id) return\n    setCurrentRoom(room)\n    setMessages([])\n\n    if (subscriptions.current[room.id]) return\n    stompClient.current?.subscribe(`/topic/chat.room.${room.id}`, (msg) => {\n      const received = JSON.parse(msg.body)\n      setMessages((prev) => [...prev, received])\n    })\n    subscriptions.current[room.id] = true\n  }\n\n  // 4. 메시지 전송\n  const sendMessage = () => {\n    if (!inputValue.trim() || !stompClient.current?.connected || !currentRoom) return\n    stompClient.current.publish({\n      destination: `/app/chat.send/${currentRoom.id}`,\n      body: JSON.stringify({ content: inputValue, roomType: currentRoom.roomType })\n    })\n    setInputValue(\"\")\n  }\n\n  // 스크롤 제어\n  useEffect(() => {\n    if (scrollRef.current) scrollRef.current.scrollTop = scrollRef.current.scrollHeight\n  }, [messages])\n\n  return (\n    <div className=\"flex flex-col h-screen bg-[#F8FAFC]\">\n      {/* 상단 헤더 */}\n      <header className=\"h-16 border-b bg-white flex items-center justify-between px-6 shrink-0\">\n        <div className=\"flex items-center gap-4\">\n          <Button variant=\"ghost\" size=\"icon\" onClick={() => router.back()} className=\"rounded-full\">\n            <ChevronLeft className=\"h-5 w-5\" />\n          </Button>\n          <h1 className=\"text-lg font-black tracking-tight\">Financial Chat Center</h1>\n        </div>\n        <div className=\"flex items-center gap-3\">\n          <Badge variant=\"outline\" className=\"gap-1.5 py-1 px-3 bg-slate-50 border-slate-200\">\n            <Circle className={`h-2 w-2 fill-current ${isConnected ? 'text-green-500' : 'text-slate-300'}`} />\n            <span className=\"text-[10px] font-bold text-slate-500 uppercase tracking-widest\">\n              {isConnected ? 'Live' : 'Offline'}\n            </span>\n          </Badge>\n        </div>\n      </header>\n\n      <main className=\"flex flex-1 overflow-hidden\">\n        {/* 왼쪽 사이드바: 방 목록 */}\n        <aside className=\"w-80 border-r bg-white flex flex-col shrink-0\">\n          <div className=\"p-4 border-b bg-slate-50/50\">\n            <Tabs defaultValue=\"GROUP\" className=\"w-full\" onValueChange={(v) => { setActiveTab(v); loadRooms(v); }}>\n              <TabsList className=\"grid grid-cols-3 h-10 bg-slate-100 p-1 rounded-xl\">\n                <TabsTrigger value=\"GROUP\" className=\"text-[10px] font-bold gap-1\"><Users className=\"h-3 w-3\" /> 단체</TabsTrigger>\n                <TabsTrigger value=\"DIRECT\" className=\"text-[10px] font-bold gap-1\"><User className=\"h-3 w-3\" /> 전문가</TabsTrigger>\n                <TabsTrigger value=\"AI\" className=\"text-[10px] font-bold gap-1\"><Bot className=\"h-3 w-3\" /> AI</TabsTrigger>\n              </TabsList>\n            </Tabs>\n          </div>\n\n          <div className=\"flex-1 overflow-y-auto\">\n            {rooms.length === 0 ? (\n              <div className=\"flex flex-col items-center justify-center h-40 text-slate-400 opacity-40\">\n                <MessageSquare className=\"h-8 w-8 mb-2\" />\n                <p className=\"text-xs font-bold\">참여 중인 방이 없습니다</p>\n              </div>\n            ) : (\n              rooms.map((room) => (\n                <div \n                  key={room.id}\n                  onClick={() => selectRoom(room)}\n                  className={`p-5 cursor-pointer border-b border-slate-50 transition-all ${currentRoom?.id === room.id ? 'bg-primary/5 border-l-4 border-l-primary' : 'hover:bg-slate-50'}`}\n                >\n                  <div className=\"flex justify-between items-start mb-1\">\n                    <p className=\"text-sm font-black text-slate-800 truncate pr-2\">{room.title}</p>\n                    <Badge variant=\"secondary\" className=\"text-[8px] h-4 bg-white border border-slate-100\">{room.roomType}</Badge>\n                  </div>\n                  <p className=\"text-[11px] text-slate-400 truncate font-medium\">\n                    {room.lastMessage || '새로운 대화를 시작해보세요'}\n                  </p>\n                </div>\n              ))\n            )}\n          </div>\n        </aside>\n\n        {/* 오른쪽 메인: 채팅창 */}\n        <section className=\"flex-1 flex flex-col bg-[#F1F5F9]\">\n          {!currentRoom ? (\n            <div className=\"flex-1 flex flex-col items-center justify-center p-12 text-center\">\n              <div className=\"w-20 h-20 bg-white rounded-3xl flex items-center justify-center shadow-sm mb-6 animate-bounce\">\n                <Sparkles className=\"h-10 w-10 text-primary/40\" />\n              </div>\n              <h2 className=\"text-xl font-black text-slate-800 mb-2\">대화를 선택해주세요</h2>\n              <p className=\"text-sm text-slate-400 font-medium\">재무 전문가 및 AI가 실시간으로 대기 중입니다.</p>\n            </div>\n          ) : (\n            <>\n              {/* 채팅창 상단바 */}\n              <div className=\"h-16 bg-white border-b px-6 flex items-center justify-between shrink-0 shadow-sm z-10\">\n                <div className=\"flex items-center gap-3\">\n                  <Avatar className=\"h-8 w-8 ring-2 ring-slate-100\">\n                    <AvatarFallback className=\"bg-primary text-white text-[10px] font-black uppercase\">\n                      {currentRoom.title.charAt(0)}\n                    </AvatarFallback>\n                  </Avatar>\n                  <div>\n                    <p className=\"text-sm font-black text-slate-900 leading-none mb-1\">{currentRoom.title}</p>\n                    <p className=\"text-[10px] font-bold text-green-500 uppercase tracking-tighter\">실시간 상담 가능</p>\n                  </div>\n                </div>\n              </div>\n\n              {/* 메시지 리스트 */}\n              <div ref={scrollRef} className=\"flex-1 overflow-y-auto p-6 space-y-6 bg-transparent\">\n                {messages.map((msg, i) => (\n                  <div key={i} className={`flex flex-col ${msg.senderId === userId ? 'items-end' : 'items-start'}`}>\n                    {msg.senderId !== userId && (\n                      <span className=\"text-[10px] font-black text-slate-400 mb-1.5 ml-1\">{msg.senderName}</span>\n                    )}\n                    <div className={`max-w-[75%] px-4 py-3 rounded-2xl text-sm font-medium shadow-sm border ${\n                      msg.senderId === userId \n                      ? 'bg-primary text-white border-transparent rounded-tr-none' \n                      : 'bg-white text-slate-700 border-slate-200 rounded-tl-none'\n                    }`}>\n                      {msg.content}\n                    </div>\n                    <span className=\"text-[8px] text-slate-400 mt-1 font-bold px-1 uppercase\">{msg.timestamp}</span>\n                  </div>\n                ))}\n              </div>\n\n              {/* 입력바 */}\n              <div className=\"p-6 bg-white border-t shrink-0\">\n                <div className=\"flex items-center gap-3 max-w-4xl mx-auto bg-slate-100 p-2 rounded-2xl border border-slate-200 focus-within:ring-2 ring-primary/20 transition-all\">\n                  <Input \n                    value={inputValue}\n                    onChange={(e) => setInputValue(e.target.value)}\n                    onKeyPress={(e) => e.key === 'Enter' && sendMessage()}\n                    placeholder={currentRoom.roomType === 'AI' ? \"AI에게 무엇이든 물어보세요...\" : \"메시지를 입력하세요...\"}\n                    className=\"flex-1 border-none bg-transparent shadow-none focus-visible:ring-0 text-sm font-medium\"\n                  />\n                  <Button \n                    onClick={sendMessage} \n                    className=\"h-10 w-10 rounded-xl shadow-lg bg-primary hover:bg-primary/90 transition-transform active:scale-95\"\n                    size=\"icon\"\n                  >\n                    <Send className=\"h-4 w-4\" />\n                  </Button>\n                </div>\n              </div>\n            </>\n          )}\n        </section>\n      </main>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}